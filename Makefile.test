.PHONY : all debug release backup
.SUFFIXES : .cpp .o

SOURCES  := $(wildcard *.cpp)
INCLUDES := 
OBJECTS  := $(SOURCES:.cpp=.o)
LIBRARY := -lpthread
CPP := g++
TARGET = test

all : DEBUG

$(TARGET) : $(OBJECTS)  $(LIBRARY)
	$(CPP) -o $@  $^ 

.cpp.o : $(SOURCES)
	$(CPP) $(SOURCES) $(CPPFLAGS) $(INCLUDES) $(LIBRARY)

clean :
	rm -rf $(OBJECTS) $(TARGET) *~

DEBUG : CPPFLAGS := -g -c -Wall -Werror -std=c++11 -fopenmp
DEBUG : $(TARGET)

RELEASE : CPPFLAGS := -O0 -c -Wall -Werror -std=c++11 -fopenmp
RELEASE : $(TARGET)
